(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f6d8"],{"4hzS":function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"a",function(){return n}),a.d(t,"b",function(){return l});var i=a("t3Un");function s(e){return Object(i.a)({url:"/face/detect",method:"post",data:e})}function n(e){return Object(i.a)({url:"/face/beautify",method:"post",data:e})}function l(e){return Object(i.a)({url:"/face/compare",method:"post",data:e})}},"8mwE":function(e,t,a){"use strict";a.r(t);var i=a("4hzS"),s={data:function(){return{fileList:[],limit:1,imgUrl:"",apiInfo:{api_key:"-VwERFhbivDsqAR7DJQuhV7Fn0iOisF_",api_secret:"2xpIjYKTxgOtp8gDA9NSKdi1ggWSVeqT"},listLoading:!1,faceAttributes:{},showResult:!1,result:{gender:"",age:"",maleBeauty:"",femaleBeauty:"",emotions:""}}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){this.imgUrl="",this.showResult=!1},handlePreview:function(e){this.imgUrl=e.url},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},handlePost:function(e){var t=this,a=e.file,s=new FormData;s.append("file",a),Object(i.c)(s).then(function(e){t.showResult=!0,t.faceAttributes=e.data.faces[0].attributes,t.result.gender=t.faceAttributes.gender.value,t.result.age=t.faceAttributes.age.value,t.result.maleBeauty=t.faceAttributes.beauty.male_score,t.result.femaleBeauty=t.faceAttributes.beauty.female_score,t.result.emotions=t.faceAttributes.emotion})}}},n=(a("KRoy"),a("KHd+")),l=Object(n.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"components-container"},[e._m(0),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"before-remove":e.beforeRemove,"file-list":e.fileList,"auto-upload":!1,limit:e.limit,data:e.apiInfo,"http-request":e.handlePost,"list-type":"picture",action:""}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传并检测")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传图片文件，且不超过2mb，文件个数限制为1个")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"64px"}},[a("el-collapse-transition",[e.imgUrl?a("img",{attrs:{src:e.imgUrl,width:"200px",height:"200px"}}):e._e()])],1),e._v(" "),a("el-collapse-transition",[e.showResult?a("div",{staticClass:"result-wrapper"},[a("el-collapse",[a("el-collapse-item",{attrs:{title:"性别判断",name:"1"}},[a("div",{ref:"gender"},[e._v("性别："+e._s(e.result.gender))])]),e._v(" "),a("el-collapse-item",{attrs:{title:"年龄预测",name:"2"}},[a("div",{ref:"age"},[e._v("年龄估计："+e._s(e.result.age))])]),e._v(" "),a("el-collapse-item",{attrs:{title:"颜值评分",name:"3"}},[a("div",{ref:"beauty"},[e._v("\n            作为男生颜值："+e._s(e.result.maleBeauty)+"\n          ")]),e._v(" "),a("div",{ref:"beauty"},[e._v("\n            作为女生颜值："+e._s(e.result.femaleBeauty)+"\n          ")])]),e._v(" "),a("el-collapse-item",{attrs:{title:"表情判断",name:"4"}},e._l(e.result.emotions,function(t,i){return a("div",{key:i},[a("span",[e._v(e._s(i)+" : "+e._s(t))])])}))],1)],1):e._e()])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("code",[t("strong",[this._v("上传图片对人脸进行检测")])])}],!1,null,"110cc577",null);l.options.__file="index.vue";t.default=l.exports},KRoy:function(e,t,a){"use strict";var i=a("SC/R");a.n(i).a},"SC/R":function(e,t,a){}}]);